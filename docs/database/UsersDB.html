<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Sat Jan 03 23:09:13 WET 2015 -->
<title>UsersDB</title>
<meta name="date" content="2015-01-03">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UsersDB";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../database/RepositoriesDB.html" title="class in database"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?database/UsersDB.html" target="_top">Frames</a></li>
<li><a href="UsersDB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">database</div>
<h2 title="Class UsersDB" class="title">Class UsersDB</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>database.UsersDB</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">UsersDB</span>
extends java.lang.Object</pre>
<div class="block">Users Database.
 Abstract representation of a users database. It's composed by a
 HashSet of User objects, a HashMap that contains the user and his
 current operation (Integer constant defined in OmniBoxShared.Constants)
 and another HashMap that relates users to their socket. And again,
 HashSet structure was chosen for uniqueness reasons.

 Created by OmniBox on 02/11/14.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../database/UsersDB.html#UsersDB(java.lang.String)">UsersDB</a></strong>(java.lang.String&nbsp;fileDB)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#addSocket(shared.User,%20java.net.Socket)">addSocket</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user,
         java.net.Socket&nbsp;socket)</code>
<div class="block">Add socket

 When the user logs in, the socket is stored</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#addUserActivity(shared.User)">addUserActivity</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</code>
<div class="block">Add User Activity

 Inserts the first activity after the user login is completed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#deserializeDB()">deserializeDB</a></strong>()</code>
<div class="block">Deserialize DB

 Deserialize the given file storing the users credentials</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#editUserActivity(shared.User,%20java.lang.Integer)">editUserActivity</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user,
                java.lang.Integer&nbsp;activity)</code>
<div class="block">Edit User Activity

 Updates the user's activity to the current operation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#getNumberOfLoggedUsers()">getNumberOfLoggedUsers</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#getNumberOfUsers()">getNumberOfUsers</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#getUsersActivity()">getUsersActivity</a></strong>()</code>
<div class="block">Get Users Activity</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#insertUser(shared.User)">insertUser</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#login(shared.User)">login</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</code>
<div class="block">Login</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#notifyUsers(java.util.ArrayList,%20server.OmniServer)">notifyUsers</a></strong>(java.util.ArrayList&nbsp;filesList,
           <a href="../server/OmniServer.html" title="class in server">OmniServer</a>&nbsp;omniServer)</code>
<div class="block">Notify Users

 The server notifies all the clients, sending the file's list, when
 occurs a change (Triggered by an upload or a delete operation)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#removeSocket(shared.User)">removeSocket</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</code>
<div class="block">Remove socket

 When the user logs out, the socket is removed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#removeUserActivity(shared.User)">removeUserActivity</a></strong>(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</code>
<div class="block">Remove User From Activity's Collection</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../database/UsersDB.html#serializeDB()">serializeDB</a></strong>()</code>
<div class="block">Serialize DB

 Serialize the User DB file</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UsersDB(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UsersDB</h4>
<pre>public&nbsp;UsersDB(java.lang.String&nbsp;fileDB)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="insertUser(shared.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertUser</h4>
<pre>public&nbsp;void&nbsp;insertUser(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</pre>
</li>
</ul>
<a name="login(shared.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;boolean&nbsp;login(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</pre>
<div class="block">Login</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the credentials are corrected; False if the provided username or password or both are invalid</dd></dl>
</li>
</ul>
<a name="getUsersActivity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsersActivity</h4>
<pre>public&nbsp;java.lang.String&nbsp;getUsersActivity()</pre>
<div class="block">Get Users Activity</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a string with all the users activity</dd></dl>
</li>
</ul>
<a name="getNumberOfUsers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfUsers</h4>
<pre>public&nbsp;int&nbsp;getNumberOfUsers()</pre>
</li>
</ul>
<a name="getNumberOfLoggedUsers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfLoggedUsers</h4>
<pre>public&nbsp;int&nbsp;getNumberOfLoggedUsers()</pre>
</li>
</ul>
<a name="addUserActivity(shared.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUserActivity</h4>
<pre>public&nbsp;void&nbsp;addUserActivity(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</pre>
<div class="block">Add User Activity

 Inserts the first activity after the user login is completed.
 Static activity defined - Inactive</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - </dd></dl>
</li>
</ul>
<a name="editUserActivity(shared.User, java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>editUserActivity</h4>
<pre>public&nbsp;void&nbsp;editUserActivity(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user,
                    java.lang.Integer&nbsp;activity)</pre>
<div class="block">Edit User Activity

 Updates the user's activity to the current operation</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - </dd><dd><code>activity</code> - </dd></dl>
</li>
</ul>
<a name="removeUserActivity(shared.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeUserActivity</h4>
<pre>public&nbsp;void&nbsp;removeUserActivity(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</pre>
<div class="block">Remove User From Activity's Collection</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - </dd></dl>
</li>
</ul>
<a name="addSocket(shared.User, java.net.Socket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSocket</h4>
<pre>public&nbsp;void&nbsp;addSocket(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user,
             java.net.Socket&nbsp;socket)</pre>
<div class="block">Add socket

 When the user logs in, the socket is stored</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - </dd><dd><code>socket</code> - </dd></dl>
</li>
</ul>
<a name="removeSocket(shared.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSocket</h4>
<pre>public&nbsp;void&nbsp;removeSocket(<a href="../shared/User.html" title="class in shared">User</a>&nbsp;user)</pre>
<div class="block">Remove socket

 When the user logs out, the socket is removed</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - </dd></dl>
</li>
</ul>
<a name="notifyUsers(java.util.ArrayList, server.OmniServer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyUsers</h4>
<pre>public&nbsp;void&nbsp;notifyUsers(java.util.ArrayList&nbsp;filesList,
               <a href="../server/OmniServer.html" title="class in server">OmniServer</a>&nbsp;omniServer)</pre>
<div class="block">Notify Users

 The server notifies all the clients, sending the file's list, when
 occurs a change (Triggered by an upload or a delete operation)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filesList</code> - </dd><dd><code>omniServer</code> - </dd></dl>
</li>
</ul>
<a name="serializeDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serializeDB</h4>
<pre>public&nbsp;void&nbsp;serializeDB()
                 throws java.io.IOException</pre>
<div class="block">Serialize DB

 Serialize the User DB file</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="deserializeDB()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deserializeDB</h4>
<pre>public&nbsp;void&nbsp;deserializeDB()
                   throws java.lang.ClassNotFoundException,
                          java.io.IOException</pre>
<div class="block">Deserialize DB

 Deserialize the given file storing the users credentials</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../database/RepositoriesDB.html" title="class in database"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?database/UsersDB.html" target="_top">Frames</a></li>
<li><a href="UsersDB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
